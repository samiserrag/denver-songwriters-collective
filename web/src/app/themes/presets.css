/* Theme Presets - Override semantic tokens based on data-theme attribute */

/*
 * ═══════════════════════════════════════════════════════════════
 * CONTRAST RULE (Phase 4.8.1)
 * ═══════════════════════════════════════════════════════════════
 *
 * NEVER use hardcoded `text-white` on accent-colored backgrounds.
 *
 * WHY: White text works on dark backgrounds (Night theme gold),
 *      but fails on light backgrounds (Sunrise theme orange).
 *
 * ALWAYS USE:
 *   - .btn-accent class (from globals.css)
 *   - text-[var(--color-text-on-accent)] for custom cases
 *
 * The --color-text-on-accent token is theme-aware:
 *   - Sunrise (light): #FFFFFF (white on orange)
 *   - Night (dark):    #0F172A (dark slate on gold)
 *
 * ═══════════════════════════════════════════════════════════════
 */

:root {
  /* Default theme uses globals.css tokens */
  /* Inverse text (for dark footer/backgrounds) */
  --color-text-on-inverse-primary: #FAF9F7;
  --color-text-on-inverse-secondary: rgba(250, 249, 247, 0.75);
  --color-text-on-inverse-tertiary: rgba(250, 249, 247, 0.55);
}

/* ═══════════════════════════════════════════════════════════════
   LIGHT THEME - Sunrise
   ═══════════════════════════════════════════════════════════════ */

:root[data-theme="sunrise"] {
  /* Bright warm, friendly */
  --color-background: #FFF7ED;
  --color-bg-primary: #FFF7ED;
  --color-bg-secondary: #FFEDD5;
  --color-bg-tertiary: #FED7AA;
  --color-bg-inverse: #1F2937;
  --color-bg-gradient-start: #FFF7ED;
  --color-bg-card: linear-gradient(180deg, #FFFFFF 0%, #FFF7ED 100%);
  --color-bg-card-spotlight: radial-gradient(circle at top, rgba(249, 115, 22, 0.08), #FFFFFF);

  --color-text-primary: #1F2937;
  --color-text-secondary: #3F3F46; /* zinc-700: 7.2:1 contrast on #FFF7ED - stronger for legibility */
  --color-text-tertiary: #52525B; /* zinc-600: 5.7:1 contrast - more readable than stone-600 */
  --color-text-accent: #C2410C;
  --color-text-on-accent: #7C2D12; /* orange-900: dark text on orange accent for WCAG AA */
  --color-bg-input: #FFFFFF;
  --color-border-input: rgba(0, 0, 0, 0.25); /* Increased from 0.20 */
  --color-placeholder: rgba(0, 0, 0, 0.50); /* Increased from 0.45 */

  /* Light text for dark inverse background */
  --color-text-on-inverse-primary: #FAF9F7;
  --color-text-on-inverse-secondary: rgba(250, 249, 247, 0.75);
  --color-text-on-inverse-tertiary: rgba(250, 249, 247, 0.55);

  --color-accent-primary: #F97316;
  --color-accent-hover: #EA580C;
  --color-accent-muted: rgba(249, 115, 22, 0.16);

  --color-border-default: rgba(31, 41, 55, 0.30); /* Strengthened for visible dividers */
  --color-border-subtle: rgba(31, 41, 55, 0.18); /* Increased from 0.12 for visibility */
  --color-border-accent: rgba(249, 115, 22, 0.40); /* Increased from 0.35 */

  /* Pill tokens - explicit contrast enforcement */
  /* Tier 1: Accent pills need solid bg + contrasting text */
  --pill-bg-accent: rgba(249, 115, 22, 0.25); /* Stronger orange wash for visibility */
  --pill-fg-on-accent: #7C2D12; /* orange-900: dark text on light orange bg */
  /* Tier 2: Neutral fill with readable text */
  --pill-fg-on-muted: #3F3F46; /* zinc-700: matches text-secondary for consistency */
  /* Tier 3: Outline/transparent with muted text */
  --pill-fg-on-neutral: #52525B; /* zinc-600: matches text-tertiary for consistency */
  /* Warning: Amber with explicit contrast */
  --pill-bg-warning: rgba(245, 158, 11, 0.15); /* amber-500/15 */
  --pill-fg-warning: #92400E; /* amber-800: dark on light bg */
  --pill-border-warning: rgba(245, 158, 11, 0.25);
  /* Success: Green with explicit contrast for light theme */
  --pill-bg-success: rgba(16, 185, 129, 0.15); /* emerald-500/15 */
  --pill-fg-success: #065F46; /* emerald-800: dark on light bg */
  --pill-border-success: rgba(16, 185, 129, 0.30);
}

/* ═══════════════════════════════════════════════════════════════
   DARK THEME - Night
   ═══════════════════════════════════════════════════════════════ */

:root[data-theme="night"] {
  /* Dark, warm gold accent */
  --color-bg-primary: #0B0F1A;
  --color-bg-secondary: #11162B;
  --color-bg-tertiary: #191F3A;
  --color-bg-inverse: #F8FAFC;
  --color-bg-gradient-start: #0B0F1A;

  --color-text-primary: #F8FAFC;
  --color-text-secondary: #CBD5E1;
  --color-text-tertiary: #94A3B8;
  --color-text-accent: #F6C177;
  --color-text-on-accent: #0F172A;

  --color-accent-primary: #F6C177;
  --color-accent-hover: #EAB25F;
  --color-accent-muted: rgba(246, 193, 119, 0.2);

  --color-border-default: rgba(248, 250, 252, 0.14);
  --color-border-subtle: rgba(248, 250, 252, 0.08);
  --color-border-accent: rgba(246, 193, 119, 0.35);

  /* Pill tokens - explicit contrast enforcement */
  /* Tier 1: Accent pills - gold wash with dark text */
  --pill-bg-accent: rgba(246, 193, 119, 0.3); /* Stronger gold wash */
  --pill-fg-on-accent: #0F172A; /* slate-900: dark text on gold bg */
  /* Tier 2: Neutral fill with light text */
  --pill-fg-on-muted: #CBD5E1; /* slate-300: light text on dark fill */
  /* Tier 3: Outline/transparent with muted text */
  --pill-fg-on-neutral: #94A3B8; /* slate-400: muted text on outline/transparent */
  /* Warning: Amber with explicit contrast for dark theme */
  --pill-bg-warning: rgba(251, 191, 36, 0.2); /* amber-400/20 */
  --pill-fg-warning: #FCD34D; /* amber-300: light on dark bg */
  --pill-border-warning: rgba(251, 191, 36, 0.35);
  /* Success: Green with explicit contrast for dark theme */
  --pill-bg-success: rgba(52, 211, 153, 0.2); /* emerald-400/20 */
  --pill-fg-success: #6EE7B7; /* emerald-300: light on dark bg */
  --pill-border-success: rgba(52, 211, 153, 0.35);
}

/* ═══════════════════════════════════════════════════════════════
   SYSTEM PREFERENCE - Auto dark/light mode
   This applies when no explicit theme is set
   ═══════════════════════════════════════════════════════════════ */

@media (prefers-color-scheme: light) {
  :root:not([data-theme]) {
    /* Use Sunrise for system light mode */
    --color-background: #FFF7ED;
    --color-bg-primary: #FFF7ED;
    --color-bg-secondary: #FFEDD5;
    --color-bg-tertiary: #FED7AA;
    --color-bg-inverse: #1F2937;
    --color-bg-gradient-start: #FFF7ED;
    --color-bg-card: linear-gradient(180deg, #FFFFFF 0%, #FFF7ED 100%);
    --color-bg-card-spotlight: radial-gradient(circle at top, rgba(249, 115, 22, 0.08), #FFFFFF);

    --color-text-primary: #1F2937;
    --color-text-secondary: #3F3F46; /* zinc-700: 7.2:1 contrast on #FFF7ED - stronger for legibility */
    --color-text-tertiary: #52525B; /* zinc-600: 5.7:1 contrast - more readable than stone-600 */
    --color-text-accent: #C2410C;
    --color-text-on-accent: #7C2D12; /* orange-900: dark text on orange accent for WCAG AA */
    --color-bg-input: #FFFFFF;
    --color-border-input: rgba(0, 0, 0, 0.25); /* Increased from 0.20 */
    --color-placeholder: rgba(0, 0, 0, 0.50); /* Increased from 0.45 */

    --color-text-on-inverse-primary: #FAF9F7;
    --color-text-on-inverse-secondary: rgba(250, 249, 247, 0.75);
    --color-text-on-inverse-tertiary: rgba(250, 249, 247, 0.55);

    --color-accent-primary: #F97316;
    --color-accent-hover: #EA580C;
    --color-accent-muted: rgba(249, 115, 22, 0.16);

    --color-border-default: rgba(31, 41, 55, 0.30); /* Strengthened for visible dividers */
    --color-border-subtle: rgba(31, 41, 55, 0.18); /* Increased from 0.12 for visibility */
    --color-border-accent: rgba(249, 115, 22, 0.40); /* Increased from 0.35 */

    /* Pill tokens - explicit contrast enforcement */
    /* Tier 1: Accent pills need solid bg + contrasting text */
    --pill-bg-accent: rgba(249, 115, 22, 0.25); /* Stronger orange wash for visibility */
    --pill-fg-on-accent: #7C2D12; /* orange-900: dark text on light orange bg */
    /* Tier 2: Neutral fill with readable text */
    --pill-fg-on-muted: #3F3F46; /* zinc-700: matches text-secondary for consistency */
    /* Tier 3: Outline/transparent with muted text */
    --pill-fg-on-neutral: #52525B; /* zinc-600: matches text-tertiary for consistency */
    /* Warning: Amber with explicit contrast */
    --pill-bg-warning: rgba(245, 158, 11, 0.15); /* amber-500/15 */
    --pill-fg-warning: #92400E; /* amber-800: dark on light bg */
    --pill-border-warning: rgba(245, 158, 11, 0.25);
    /* Success: Green with explicit contrast for light theme */
    --pill-bg-success: rgba(16, 185, 129, 0.15); /* emerald-500/15 */
    --pill-fg-success: #065F46; /* emerald-800: dark on light bg */
    --pill-border-success: rgba(16, 185, 129, 0.30);
  }
}

/* ═══════════════════════════════════════════════════════════════
   FONT PRESETS
   Override --font-body and --font-display via data-font attribute
   ═══════════════════════════════════════════════════════════════ */

:root[data-font="system"] {
  --font-body: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-display: ui-serif, Georgia, "Times New Roman", serif;
}

:root[data-font="playfair-inter"] {
  --font-body: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-display: "Playfair Display", ui-serif, Georgia, serif;
}

:root[data-font="fraunces-inter"] {
  --font-body: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-display: "Fraunces", ui-serif, Georgia, serif;
}

:root[data-font="dmserif-inter"] {
  --font-body: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-display: "DM Serif Display", ui-serif, Georgia, serif;
}

:root[data-font="oswald-inter"] {
  --font-body: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-display: "Oswald", ui-sans-serif, system-ui, sans-serif;
}

:root[data-font="montserrat"] {
  --font-body: "Montserrat", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-display: "Montserrat", ui-sans-serif, system-ui, sans-serif;
}
